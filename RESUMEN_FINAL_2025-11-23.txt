âœ… CORRECCIONES COMPLETADAS - 2025-11-23 19:30
================================================

PROBLEMA RAÃZ IDENTIFICADO:
---------------------------
Los archivos general.php e identitas.php son INCLUIDOS por index.php, por lo que
los header("Location: ...") NO FUNCIONAN (headers ya enviados).

SOLUCIÃ“N APLICADA:
------------------
Reemplazamos TODOS los redirects con asignaciÃ³n directa de variables:
- $mensaje
- $tipo_mensaje
- $scroll_to
- $active_tab

ARCHIVOS A SUBIR CON FILEZILLA:
================================

1. admin/modulos/general.php
   âœ… Toast flotante en TODOS los guardar
   âœ… Scroll con highlight azul en TODOS los guardar
   âœ… Mantiene pestaÃ±a correcta despuÃ©s de guardar
   âœ… Botones con detecciÃ³n de cambios (grises hasta que hay cambios)

2. admin/modulos/identitas.php
   âœ… Toast flotante
   âœ… Scroll con highlight azul
   âœ… Ya NO queda en blanco despuÃ©s de guardar
   âœ… Mantiene pestaÃ±a ConfiguraciÃ³n

BACKUPS CREADOS:
================
- backup/2025-11-23/1930-general.php
- backup/2025-11-23/1930-identitas.php

SQL REQUERIDO (phpMyAdmin):
===========================
Ejecutar: sql/20251123_agregar_columnas_general.sql

Agrega 3 columnas a verumax_general.instances:
- sitio_web_oficial (VARCHAR 255)
- email_contacto (VARCHAR 255)
- redes_sociales (TEXT)

COMPORTAMIENTO ESPERADO:
========================

GENERAL - Todas las pestaÃ±as:
âœ… Toast verde flotante arriba a la derecha
âœ… Scroll al centro de la secciÃ³n guardada
âœ… Highlight azul durante 2 segundos en la secciÃ³n
âœ… Mantiene la pestaÃ±a donde guardaste
âœ… Botones grises hasta que cambies algo

IDENTITAS - PestaÃ±a ConfiguraciÃ³n:
âœ… Toast verde flotante
âœ… Scroll con highlight azul
âœ… Mantiene la pestaÃ±a visible (no queda en blanco)

CONSOLA DEL NAVEGADOR:
======================
VerÃ¡s mensajes con emojis (para debugging):
ğŸ”µ DOMContentLoaded ejecutado
ğŸ”µ URL tab param: null
ğŸ”µ Tab activo: [nombre_del_tab]
ğŸ”µ generalPageMessage: {objeto}
ğŸŸ¢ Mostrando toast: [mensaje]
ğŸŸ¢ Ejecutando showToast...
ğŸŸ¢ Scroll to: [id_elemento]
ğŸŸ¢ Elemento encontrado, haciendo scroll

LIMPIEZA POSTERIOR:
===================
Una vez que confirmes que todo funciona correctamente,
puedes eliminar los console.log del cÃ³digo para limpiar la consola.

PENDIENTE (Para prÃ³xima sesiÃ³n):
================================
- Templates module: agregar toast y scroll
- Certificatum module: agregar toast
- Limpiar cÃ³digo $_GET['success'] que ya no se usa
- Eliminar console.log de debugging
