<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo: Cómo agregar un estudiante - VERUMax</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body { font-family: 'Segoe UI', system-ui, sans-serif; }

        /* Cursor animado */
        .cursor {
            position: absolute;
            width: 24px;
            height: 24px;
            pointer-events: none;
            z-index: 1000;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .cursor svg {
            filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.4));
        }

        /* Click effect */
        .click-ring {
            position: absolute;
            width: 30px;
            height: 30px;
            border: 3px solid #22c55e;
            border-radius: 50%;
            opacity: 0;
            transform: scale(0);
            pointer-events: none;
            z-index: 999;
        }
        .click-ring.active {
            animation: clickRing 0.5s ease-out;
        }
        @keyframes clickRing {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(2.5); opacity: 0; }
        }

        /* Highlight pulse */
        .highlight-pulse {
            animation: highlightPulse 0.8s ease-in-out;
        }
        @keyframes highlightPulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
            50% { box-shadow: 0 0 0 6px rgba(34, 197, 94, 0.3); }
        }

        /* New row animation */
        .new-row-enter {
            animation: newRowEnter 0.5s ease-out;
            background-color: #dcfce7 !important;
        }
        @keyframes newRowEnter {
            0% { opacity: 0; transform: translateY(-10px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        /* Tab active state */
        .tab-button-cert.active {
            color: #2563eb;
            border-bottom: 2px solid #2563eb;
        }

        /* Sub-tab active */
        .sub-tab-personas.active {
            color: #2563eb;
            border-color: #2563eb;
        }

        /* Input focus simulation */
        .sim-input.focused {
            border-color: #22c55e !important;
            box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.15) !important;
            outline: none;
        }

        /* Button states */
        .sim-button.hovered {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .sim-button.clicked {
            transform: scale(0.97);
        }

        /* Modal animation */
        .modal-content {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .modal-content.hidden-state {
            opacity: 0;
            transform: scale(0.95) translateY(-20px);
        }
        .modal-content.visible-state {
            opacity: 1;
            transform: scale(1) translateY(0);
        }

        /* Toast */
        .toast {
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        /* Progress dots */
        .step-dot {
            transition: all 0.3s ease;
        }
        .step-dot.active {
            background-color: #22c55e;
            transform: scale(1.3);
        }
        .step-dot.completed {
            background-color: #22c55e;
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }

        /* Intro overlay */
        .intro-overlay {
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(4px);
            transition: opacity 0.4s ease;
        }
        .intro-overlay.hidden-state {
            opacity: 0;
            pointer-events: none;
        }

        /* Floating controls */
        .floating-controls {
            position: fixed;
            bottom: 24px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2), 0 0 0 1px rgba(0,0,0,0.05);
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        /* Keyboard hint */
        .kbd {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: 28px;
            height: 28px;
            padding: 0 8px;
            background: #f1f5f9;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            color: #475569;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }

        /* Pulse animation for play button */
        @keyframes pulse-green {
            0%, 100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4); }
            50% { box-shadow: 0 0 0 12px rgba(34, 197, 94, 0); }
        }
        .pulse-animate {
            animation: pulse-green 2s infinite;
        }

        /* ========== TOOLTIP SYSTEM ========== */
        .demo-tooltip {
            position: absolute;
            max-width: 280px;
            padding: 12px 16px;
            border-radius: 12px;
            font-size: 13px;
            line-height: 1.5;
            z-index: 1001;
            opacity: 0;
            transform: translateY(10px) scale(0.95);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        .demo-tooltip.show {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
        .demo-tooltip::before {
            content: '';
            position: absolute;
            width: 12px;
            height: 12px;
            transform: rotate(45deg);
        }

        /* Tooltip arrow positions */
        .demo-tooltip.arrow-top::before {
            top: -6px;
            left: 24px;
        }
        .demo-tooltip.arrow-bottom::before {
            bottom: -6px;
            left: 24px;
        }
        .demo-tooltip.arrow-left::before {
            left: -6px;
            top: 50%;
            margin-top: -6px;
        }
        .demo-tooltip.arrow-right::before {
            right: -6px;
            top: 50%;
            margin-top: -6px;
        }

        /* Tooltip types */
        /* Yellow - Clarifications/Explanations */
        .demo-tooltip.tooltip-info {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border: 2px solid #f59e0b;
            color: #92400e;
        }
        .demo-tooltip.tooltip-info::before {
            background: #fde68a;
            border-right: 2px solid #f59e0b;
            border-bottom: 2px solid #f59e0b;
        }
        .demo-tooltip.tooltip-info .tooltip-icon {
            background: #f59e0b;
            color: white;
        }

        /* Green - Tips/Best practices */
        .demo-tooltip.tooltip-tip {
            background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
            border: 2px solid #22c55e;
            color: #166534;
        }
        .demo-tooltip.tooltip-tip::before {
            background: #bbf7d0;
            border-right: 2px solid #22c55e;
            border-bottom: 2px solid #22c55e;
        }
        .demo-tooltip.tooltip-tip .tooltip-icon {
            background: #22c55e;
            color: white;
        }

        /* Blue - Suggestions */
        .demo-tooltip.tooltip-suggestion {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border: 2px solid #3b82f6;
            color: #1e40af;
        }
        .demo-tooltip.tooltip-suggestion::before {
            background: #bfdbfe;
            border-right: 2px solid #3b82f6;
            border-bottom: 2px solid #3b82f6;
        }
        .demo-tooltip.tooltip-suggestion .tooltip-icon {
            background: #3b82f6;
            color: white;
        }

        /* Purple - Action indicator */
        .demo-tooltip.tooltip-action {
            background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%);
            border: 2px solid #a855f7;
            color: #6b21a8;
        }
        .demo-tooltip.tooltip-action::before {
            background: #e9d5ff;
            border-right: 2px solid #a855f7;
            border-bottom: 2px solid #a855f7;
        }
        .demo-tooltip.tooltip-action .tooltip-icon {
            background: #a855f7;
            color: white;
        }

        .tooltip-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 8px;
            flex-shrink: 0;
        }

        .tooltip-content {
            display: flex;
            align-items: flex-start;
        }

        .tooltip-text {
            flex: 1;
        }

        .tooltip-label {
            font-weight: 700;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 2px;
            opacity: 0.8;
        }

        /* Swipe indicator */
        .swipe-indicator {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            display: none;
            z-index: 101;
        }

        /* ========== RESPONSIVE ========== */
        @media (max-width: 768px) {
            .swipe-indicator.show {
                display: flex;
                align-items: center;
                gap: 8px;
                animation: fadeInUp 0.3s ease;
            }
            .floating-controls {
                bottom: 16px;
                padding: 10px 12px;
                gap: 8px;
                width: calc(100% - 32px);
                justify-content: center;
            }
            .hide-on-mobile {
                display: none !important;
            }
            .demo-tooltip {
                max-width: 220px;
                font-size: 12px;
                padding: 10px 12px;
            }
            /* Make stats grid 2x2 on mobile */
            #view-stats {
                grid-template-columns: repeat(2, 1fr) !important;
            }
            /* Stack header on mobile */
            .admin-header-content {
                flex-direction: column;
                gap: 8px;
                align-items: flex-start !important;
            }
            /* Smaller tabs on mobile */
            .tab-button-cert, .sub-tab-personas {
                padding: 8px 12px !important;
                font-size: 12px !important;
            }
            /* Stack buttons on mobile */
            .estudiantes-header {
                flex-direction: column;
                gap: 12px;
            }
            .estudiantes-header > div {
                width: 100%;
            }
            .estudiantes-header .flex.gap-2 {
                flex-wrap: wrap;
            }
            /* Simplify table on mobile */
            .hide-on-mobile-table {
                display: none !important;
            }
            /* Toast positioning on mobile */
            .toast {
                left: 16px;
                right: 16px;
                bottom: 80px !important;
            }
        }

        @media (max-width: 480px) {
            .floating-controls {
                padding: 8px 10px;
            }
            #btn-play {
                padding: 10px 16px !important;
                font-size: 14px;
            }
            .demo-tooltip {
                max-width: 180px;
                font-size: 11px;
            }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateX(-50%) translateY(10px); }
            to { opacity: 1; transform: translateX(-50%) translateY(0); }
        }
    </style>
</head>
<body class="bg-slate-100 min-h-screen">

    <!-- ========== INTRO OVERLAY ========== -->
    <div id="intro-overlay" class="intro-overlay fixed inset-0 z-[200] flex items-center justify-center p-4">
        <div class="bg-white rounded-3xl shadow-2xl max-w-lg w-full overflow-hidden">
            <!-- Header with gradient -->
            <div class="bg-gradient-to-br from-green-500 to-emerald-600 p-6 sm:p-8 text-white text-center">
                <div class="w-16 h-16 sm:w-20 sm:h-20 bg-white/20 rounded-2xl mx-auto mb-4 flex items-center justify-center">
                    <i data-lucide="play-circle" class="w-10 h-10 sm:w-12 sm:h-12"></i>
                </div>
                <h1 class="text-xl sm:text-2xl font-bold mb-2">Demo Interactivo</h1>
                <p class="text-green-100 text-sm sm:text-base">Cómo agregar un estudiante en VERUMax</p>
            </div>

            <!-- Content -->
            <div class="p-4 sm:p-6">
                <p class="text-gray-600 text-center mb-4 sm:mb-6 text-sm sm:text-base">
                    Esta simulación te mostrará paso a paso el proceso completo. Podés controlar el demo de las siguientes formas:
                </p>

                <!-- Controls explanation -->
                <div class="space-y-3 sm:space-y-4">
                    <!-- Auto mode -->
                    <div class="flex items-center gap-3 sm:gap-4 p-3 bg-green-50 rounded-xl">
                        <div class="w-9 h-9 sm:w-10 sm:h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0">
                            <i data-lucide="play" class="w-4 h-4 sm:w-5 sm:h-5 text-green-600"></i>
                        </div>
                        <div>
                            <p class="font-medium text-gray-900 text-sm sm:text-base">Modo Automático</p>
                            <p class="text-xs sm:text-sm text-gray-500">El demo avanza solo, podés pausar cuando quieras</p>
                        </div>
                    </div>

                    <!-- Keyboard (desktop only) -->
                    <div class="hidden sm:flex items-center gap-4 p-3 bg-blue-50 rounded-xl">
                        <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0">
                            <i data-lucide="keyboard" class="w-5 h-5 text-blue-600"></i>
                        </div>
                        <div class="flex-1">
                            <p class="font-medium text-gray-900">Navegación por Teclado</p>
                            <div class="flex items-center gap-2 mt-1 flex-wrap">
                                <span class="kbd"><i data-lucide="arrow-left" class="w-3 h-3"></i></span>
                                <span class="text-sm text-gray-500">Reiniciar</span>
                                <span class="mx-1 text-gray-300">|</span>
                                <span class="kbd"><i data-lucide="arrow-right" class="w-3 h-3"></i></span>
                                <span class="text-sm text-gray-500">Siguiente</span>
                                <span class="mx-1 text-gray-300">|</span>
                                <span class="kbd text-xs">Espacio</span>
                                <span class="text-sm text-gray-500">Play</span>
                            </div>
                        </div>
                    </div>

                    <!-- Touch/Swipe for mobile -->
                    <div class="flex sm:hidden items-center gap-3 p-3 bg-purple-50 rounded-xl">
                        <div class="w-9 h-9 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0">
                            <i data-lucide="hand" class="w-4 h-4 text-purple-600"></i>
                        </div>
                        <div>
                            <p class="font-medium text-gray-900 text-sm">Gestos Táctiles</p>
                            <p class="text-xs text-gray-500">Deslizá para navegar entre pasos</p>
                        </div>
                    </div>

                    <!-- Tooltips explanation -->
                    <div class="flex items-center gap-3 sm:gap-4 p-3 bg-amber-50 rounded-xl">
                        <div class="w-9 h-9 sm:w-10 sm:h-10 bg-amber-100 rounded-lg flex items-center justify-center flex-shrink-0">
                            <i data-lucide="message-circle" class="w-4 h-4 sm:w-5 sm:h-5 text-amber-600"></i>
                        </div>
                        <div>
                            <p class="font-medium text-gray-900 text-sm sm:text-base">Globos Explicativos</p>
                            <p class="text-xs sm:text-sm text-gray-500">Aparecerán mensajes contextuales durante el demo</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="p-4 sm:p-6 pt-0">
                <button id="btn-start-demo" class="w-full py-3 sm:py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl font-semibold text-base sm:text-lg flex items-center justify-center gap-3 hover:from-green-600 hover:to-emerald-700 transition shadow-lg shadow-green-500/30">
                    <i data-lucide="play" class="w-5 h-5 sm:w-6 sm:h-6"></i>
                    Iniciar Demo
                </button>
                <p class="text-center text-xs text-gray-400 mt-3 sm:mt-4">
                    Duración aproximada: 30 segundos
                </p>
            </div>
        </div>
    </div>

    <!-- Demo Header (compact) -->
    <div class="bg-white border-b shadow-sm sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-3 sm:px-4 py-2 sm:py-3 flex items-center justify-between">
            <div class="flex items-center gap-2 sm:gap-3">
                <div class="w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg sm:rounded-xl flex items-center justify-center">
                    <i data-lucide="play-circle" class="w-5 h-5 sm:w-6 sm:h-6 text-white"></i>
                </div>
                <div>
                    <h1 class="font-bold text-gray-900 text-sm sm:text-base">Demo: Agregar Estudiante</h1>
                    <p class="text-[10px] sm:text-xs text-gray-500 hidden sm:block">Simulación interactiva del panel real</p>
                </div>
            </div>
            <div class="flex items-center gap-2 sm:gap-4">
                <span id="step-label" class="text-xs sm:text-sm text-gray-500">Paso 1 de 5</span>
                <div class="flex gap-1 sm:gap-1.5">
                    <div class="step-dot w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-gray-300" data-step="1"></div>
                    <div class="step-dot w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-gray-300" data-step="2"></div>
                    <div class="step-dot w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-gray-300" data-step="3"></div>
                    <div class="step-dot w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-gray-300" data-step="4"></div>
                    <div class="step-dot w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-gray-300" data-step="5"></div>
                </div>
            </div>
        </div>
        <!-- Progress bar -->
        <div class="h-1 bg-gray-100">
            <div id="progress-bar" class="h-full bg-green-500 transition-all duration-300" style="width: 0%"></div>
        </div>
    </div>

    <div class="max-w-6xl mx-auto p-2 sm:p-4 pb-28 sm:pb-32">

        <!-- Simulated Interface Container -->
        <div id="demo-container" class="relative bg-white rounded-xl sm:rounded-2xl shadow-xl overflow-hidden border border-gray-200" style="min-height: 480px;">

            <!-- ========== TOOLTIPS CONTAINER (position absolute for correct tooltip placement) ========== -->
            <div id="tooltip-container" class="absolute inset-0 pointer-events-none z-[1001]"></div>

            <!-- ========== SIMULATED ADMIN INTERFACE ========== -->

            <!-- Admin Header -->
            <div class="bg-white border-b px-3 sm:px-6 py-3 sm:py-4 flex items-center justify-between admin-header-content">
                <div class="flex items-center gap-2 sm:gap-4">
                    <div class="flex items-center gap-2 sm:gap-3">
                        <div class="w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center">
                            <i data-lucide="shield-check" class="w-5 h-5 sm:w-6 sm:h-6 text-white"></i>
                        </div>
                        <div>
                            <h1 class="text-base sm:text-lg font-bold text-gray-900">VERUMax Admin</h1>
                            <p class="text-[10px] sm:text-xs text-gray-500">SAJuR - Demo</p>
                        </div>
                    </div>
                </div>
                <div class="flex items-center gap-3 text-xs sm:text-sm">
                    <span class="text-gray-500 hidden sm:inline">admin@sajur.com</span>
                </div>
            </div>

            <!-- Module Tabs (General, Certificatum, Actividad) -->
            <div class="bg-gray-50 border-b px-2 sm:px-6 overflow-x-auto">
                <nav class="flex gap-1">
                    <button class="px-3 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm text-gray-500 border-b-2 border-transparent whitespace-nowrap">
                        <i data-lucide="settings" class="w-3 h-3 sm:w-4 sm:h-4 inline mr-1"></i> General
                    </button>
                    <button id="tab-module-certificatum" class="px-3 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm text-blue-600 border-b-2 border-blue-600 font-medium whitespace-nowrap">
                        <i data-lucide="award" class="w-3 h-3 sm:w-4 sm:h-4 inline mr-1"></i> Certificatum
                    </button>
                    <button class="px-3 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm text-gray-500 border-b-2 border-transparent whitespace-nowrap">
                        <i data-lucide="activity" class="w-3 h-3 sm:w-4 sm:h-4 inline mr-1"></i> Actividad
                    </button>
                </nav>
            </div>

            <!-- Certificatum Content -->
            <div class="p-3 sm:p-6">

                <!-- Stats Cards -->
                <div id="view-stats" class="grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4 mb-4 sm:mb-6">
                    <div class="p-3 sm:p-4 rounded-lg sm:rounded-xl border-2 border-green-200 bg-green-50">
                        <div class="flex items-center gap-1 sm:gap-2 mb-1 sm:mb-2">
                            <i data-lucide="users" class="w-4 h-4 sm:w-5 sm:h-5 text-green-600"></i>
                            <span class="text-xs sm:text-sm font-medium text-gray-600">Estudiantes</span>
                        </div>
                        <p id="stat-estudiantes" class="text-xl sm:text-2xl font-bold text-green-700">156</p>
                    </div>
                    <div class="p-3 sm:p-4 rounded-lg sm:rounded-xl border-2 border-blue-200 bg-blue-50">
                        <div class="flex items-center gap-1 sm:gap-2 mb-1 sm:mb-2">
                            <i data-lucide="graduation-cap" class="w-4 h-4 sm:w-5 sm:h-5 text-blue-600"></i>
                            <span class="text-xs sm:text-sm font-medium text-gray-600">Docentes</span>
                        </div>
                        <p class="text-xl sm:text-2xl font-bold text-blue-700">12</p>
                    </div>
                    <div class="p-3 sm:p-4 rounded-lg sm:rounded-xl border-2 border-purple-200 bg-purple-50">
                        <div class="flex items-center gap-1 sm:gap-2 mb-1 sm:mb-2">
                            <i data-lucide="book-open" class="w-4 h-4 sm:w-5 sm:h-5 text-purple-600"></i>
                            <span class="text-xs sm:text-sm font-medium text-gray-600">Cursos</span>
                        </div>
                        <p class="text-xl sm:text-2xl font-bold text-purple-700">8</p>
                    </div>
                    <div class="p-3 sm:p-4 rounded-lg sm:rounded-xl border-2 border-amber-200 bg-amber-50">
                        <div class="flex items-center gap-1 sm:gap-2 mb-1 sm:mb-2">
                            <i data-lucide="file-check" class="w-4 h-4 sm:w-5 sm:h-5 text-amber-600"></i>
                            <span class="text-xs sm:text-sm font-medium text-gray-600">Inscripciones</span>
                        </div>
                        <p class="text-xl sm:text-2xl font-bold text-amber-700">243</p>
                    </div>
                </div>

                <!-- Tabs Navigation (5 tabs principales) -->
                <div class="bg-white rounded-lg border border-gray-200 mb-4 sm:mb-6">
                    <div class="border-b border-gray-200 overflow-x-auto">
                        <nav class="flex space-x-2 sm:space-x-6 px-2 sm:px-4">
                            <button class="tab-button-cert py-2 sm:py-3 text-gray-500 text-xs sm:text-sm whitespace-nowrap">
                                <i data-lucide="settings" class="w-3 h-3 sm:w-4 sm:h-4 inline mr-1"></i> <span class="hidden sm:inline">Configuración</span><span class="sm:hidden">Config</span>
                            </button>
                            <button id="tab-personas" class="tab-button-cert py-2 sm:py-3 text-gray-500 text-xs sm:text-sm whitespace-nowrap border-b-2 border-transparent">
                                <i data-lucide="users" class="w-3 h-3 sm:w-4 sm:h-4 inline mr-1"></i> Personas <span class="hidden sm:inline">(168)</span>
                            </button>
                            <button class="tab-button-cert py-2 sm:py-3 text-gray-500 text-xs sm:text-sm whitespace-nowrap">
                                <i data-lucide="book-open" class="w-3 h-3 sm:w-4 sm:h-4 inline mr-1"></i> Cursos
                            </button>
                            <button class="tab-button-cert py-2 sm:py-3 text-gray-500 text-xs sm:text-sm whitespace-nowrap hide-on-mobile">
                                <i data-lucide="file-check" class="w-4 h-4 inline mr-1"></i> Matrículas
                            </button>
                            <button class="tab-button-cert py-2 sm:py-3 text-gray-500 text-xs sm:text-sm whitespace-nowrap hide-on-mobile">
                                <i data-lucide="clipboard-check" class="w-4 h-4 inline mr-1"></i> Evaluaciones
                            </button>
                        </nav>
                    </div>

                    <!-- Tab Content: Personas -->
                    <div id="tab-content-personas" class="hidden p-2 sm:p-4">

                        <!-- Sub-tabs de Personas -->
                        <div class="flex gap-2 sm:gap-4 mb-3 sm:mb-4 border-b overflow-x-auto">
                            <button id="subtab-estudiantes" class="sub-tab-personas px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium border-b-2 border-transparent text-gray-500 whitespace-nowrap">
                                <i data-lucide="users" class="w-3 h-3 sm:w-4 sm:h-4 inline mr-1"></i> Estudiantes <span class="hidden sm:inline">(156)</span>
                            </button>
                            <button class="sub-tab-personas px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium border-b-2 border-transparent text-gray-500 whitespace-nowrap">
                                <i data-lucide="graduation-cap" class="w-3 h-3 sm:w-4 sm:h-4 inline mr-1"></i> Docentes <span class="hidden sm:inline">(12)</span>
                            </button>
                        </div>

                        <!-- Estudiantes Content -->
                        <div id="sub-content-estudiantes" class="hidden">

                            <!-- Header con búsqueda y botones -->
                            <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0 mb-3 sm:mb-4 estudiantes-header">
                                <h2 class="text-base sm:text-lg font-bold text-gray-900 flex items-center gap-2">
                                    <i data-lucide="users" class="w-4 h-4 sm:w-5 sm:h-5 text-green-600"></i>
                                    Gestionar Estudiantes
                                </h2>
                                <div class="flex gap-2 flex-wrap w-full sm:w-auto">
                                    <div class="flex gap-2 flex-1 sm:flex-initial">
                                        <input type="text" placeholder="Buscar..." class="border border-gray-300 rounded-lg px-2 sm:px-3 py-2 text-xs sm:text-sm w-full sm:w-48">
                                        <button class="bg-gray-100 text-gray-700 px-2 sm:px-3 py-2 rounded-lg hover:bg-gray-200 text-sm">
                                            <i data-lucide="search" class="w-4 h-4"></i>
                                        </button>
                                    </div>
                                    <button id="btn-nuevo-estudiante" class="sim-button bg-green-600 text-white px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium flex items-center gap-1 sm:gap-2 hover:bg-green-700 transition">
                                        <i data-lucide="user-plus" class="w-4 h-4"></i>
                                        <span class="hidden sm:inline">Nuevo Estudiante</span>
                                        <span class="sm:hidden">Nuevo</span>
                                    </button>
                                    <button class="bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium flex items-center gap-1 sm:gap-2 hide-on-mobile">
                                        <i data-lucide="upload" class="w-4 h-4"></i> Importar
                                    </button>
                                </div>
                            </div>

                            <!-- Tabla de Estudiantes -->
                            <div class="bg-white rounded-lg sm:rounded-xl border border-gray-200 overflow-hidden">
                                <div class="overflow-x-auto">
                                    <table class="w-full">
                                        <thead class="bg-gray-50 border-b border-gray-200">
                                            <tr>
                                                <th class="px-2 sm:px-3 py-2 sm:py-3 text-center w-8 sm:w-10 hide-on-mobile-table">
                                                    <input type="checkbox" class="w-4 h-4 text-blue-600 border-gray-300 rounded">
                                                </th>
                                                <th class="px-2 sm:px-4 py-2 sm:py-3 text-left text-[10px] sm:text-xs font-semibold text-gray-600 uppercase tracking-wider">Estudiante</th>
                                                <th class="px-2 sm:px-4 py-2 sm:py-3 text-center text-[10px] sm:text-xs font-semibold text-gray-600 uppercase tracking-wider hide-on-mobile-table">Cursos</th>
                                                <th class="px-2 sm:px-4 py-2 sm:py-3 text-center text-[10px] sm:text-xs font-semibold text-gray-600 uppercase tracking-wider">Estado</th>
                                                <th class="px-2 sm:px-4 py-2 sm:py-3 text-center text-[10px] sm:text-xs font-semibold text-gray-600 uppercase tracking-wider">Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody class="divide-y divide-gray-100" id="tbody-estudiantes">
                                            <tr class="hover:bg-gray-50">
                                                <td class="px-2 sm:px-3 py-3 sm:py-4 text-center hide-on-mobile-table">
                                                    <input type="checkbox" class="w-4 h-4 text-blue-600 border-gray-300 rounded">
                                                </td>
                                                <td class="px-2 sm:px-4 py-3 sm:py-4">
                                                    <div class="flex items-center gap-2 sm:gap-3">
                                                        <div class="w-8 h-8 sm:w-10 sm:h-10 bg-green-100 rounded-full flex items-center justify-center">
                                                            <span class="text-green-700 font-semibold text-xs sm:text-sm">JP</span>
                                                        </div>
                                                        <div>
                                                            <div class="font-medium text-gray-900 text-xs sm:text-sm">JUAN PÉREZ</div>
                                                            <div class="text-[10px] sm:text-sm text-gray-500 font-mono">30456789</div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="px-2 sm:px-4 py-3 sm:py-4 text-center hide-on-mobile-table">
                                                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs sm:text-sm font-medium bg-gray-100 text-gray-800">2</span>
                                                </td>
                                                <td class="px-2 sm:px-4 py-3 sm:py-4 text-center">
                                                    <span class="inline-flex items-center px-1.5 sm:px-2 py-1 rounded text-[10px] sm:text-xs font-medium bg-green-100 text-green-700">
                                                        <i data-lucide="check-circle" class="w-3 h-3 mr-0.5 sm:mr-1"></i><span class="hidden sm:inline">1 aprobado</span><span class="sm:hidden">1</span>
                                                    </span>
                                                </td>
                                                <td class="px-2 sm:px-4 py-3 sm:py-4">
                                                    <div class="flex justify-center gap-0.5 sm:gap-1">
                                                        <button class="p-1.5 sm:p-2 text-blue-600 hover:bg-blue-50 rounded-lg"><i data-lucide="pencil" class="w-3 h-3 sm:w-4 sm:h-4"></i></button>
                                                        <button class="p-1.5 sm:p-2 text-red-600 hover:bg-red-50 rounded-lg"><i data-lucide="trash-2" class="w-3 h-3 sm:w-4 sm:h-4"></i></button>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr class="hover:bg-gray-50">
                                                <td class="px-2 sm:px-3 py-3 sm:py-4 text-center hide-on-mobile-table">
                                                    <input type="checkbox" class="w-4 h-4 text-blue-600 border-gray-300 rounded">
                                                </td>
                                                <td class="px-2 sm:px-4 py-3 sm:py-4">
                                                    <div class="flex items-center gap-2 sm:gap-3">
                                                        <div class="w-8 h-8 sm:w-10 sm:h-10 bg-green-100 rounded-full flex items-center justify-center">
                                                            <span class="text-green-700 font-semibold text-xs sm:text-sm">MG</span>
                                                        </div>
                                                        <div>
                                                            <div class="font-medium text-gray-900 text-xs sm:text-sm">MARÍA GARCÍA</div>
                                                            <div class="text-[10px] sm:text-sm text-gray-500 font-mono">28765432</div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="px-2 sm:px-4 py-3 sm:py-4 text-center hide-on-mobile-table">
                                                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs sm:text-sm font-medium bg-gray-100 text-gray-800">1</span>
                                                </td>
                                                <td class="px-2 sm:px-4 py-3 sm:py-4 text-center">
                                                    <span class="inline-flex items-center px-1.5 sm:px-2 py-1 rounded text-[10px] sm:text-xs font-medium bg-blue-100 text-blue-700">
                                                        <i data-lucide="play-circle" class="w-3 h-3 mr-0.5 sm:mr-1"></i><span class="hidden sm:inline">En curso</span><span class="sm:hidden">1</span>
                                                    </span>
                                                </td>
                                                <td class="px-2 sm:px-4 py-3 sm:py-4">
                                                    <div class="flex justify-center gap-0.5 sm:gap-1">
                                                        <button class="p-1.5 sm:p-2 text-blue-600 hover:bg-blue-50 rounded-lg"><i data-lucide="pencil" class="w-3 h-3 sm:w-4 sm:h-4"></i></button>
                                                        <button class="p-1.5 sm:p-2 text-red-600 hover:bg-red-50 rounded-lg"><i data-lucide="trash-2" class="w-3 h-3 sm:w-4 sm:h-4"></i></button>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr class="hover:bg-gray-50">
                                                <td class="px-2 sm:px-3 py-3 sm:py-4 text-center hide-on-mobile-table">
                                                    <input type="checkbox" class="w-4 h-4 text-blue-600 border-gray-300 rounded">
                                                </td>
                                                <td class="px-2 sm:px-4 py-3 sm:py-4">
                                                    <div class="flex items-center gap-2 sm:gap-3">
                                                        <div class="w-8 h-8 sm:w-10 sm:h-10 bg-green-100 rounded-full flex items-center justify-center">
                                                            <span class="text-green-700 font-semibold text-xs sm:text-sm">CL</span>
                                                        </div>
                                                        <div>
                                                            <div class="font-medium text-gray-900 text-xs sm:text-sm">CARLOS LÓPEZ</div>
                                                            <div class="text-[10px] sm:text-sm text-gray-500 font-mono">35123456</div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="px-2 sm:px-4 py-3 sm:py-4 text-center hide-on-mobile-table">
                                                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs sm:text-sm font-medium bg-gray-100 text-gray-800">3</span>
                                                </td>
                                                <td class="px-2 sm:px-4 py-3 sm:py-4 text-center">
                                                    <span class="inline-flex items-center px-1.5 sm:px-2 py-1 rounded text-[10px] sm:text-xs font-medium bg-green-100 text-green-700">
                                                        <i data-lucide="check-circle" class="w-3 h-3 mr-0.5 sm:mr-1"></i><span class="hidden sm:inline">2 aprobados</span><span class="sm:hidden">2</span>
                                                    </span>
                                                </td>
                                                <td class="px-2 sm:px-4 py-3 sm:py-4">
                                                    <div class="flex justify-center gap-0.5 sm:gap-1">
                                                        <button class="p-1.5 sm:p-2 text-blue-600 hover:bg-blue-50 rounded-lg"><i data-lucide="pencil" class="w-3 h-3 sm:w-4 sm:h-4"></i></button>
                                                        <button class="p-1.5 sm:p-2 text-red-600 hover:bg-red-50 rounded-lg"><i data-lucide="trash-2" class="w-3 h-3 sm:w-4 sm:h-4"></i></button>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <!-- Paginación -->
                                <div class="px-2 sm:px-4 py-2 sm:py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between text-xs sm:text-sm">
                                    <span class="text-gray-600"><span class="hidden sm:inline">Mostrando </span>1-25 de <span id="total-estudiantes">156</span></span>
                                    <div class="flex gap-1">
                                        <button class="px-2 sm:px-3 py-1 border rounded hover:bg-gray-100 text-xs sm:text-sm">Ant</button>
                                        <button class="px-2 sm:px-3 py-1 border rounded bg-blue-600 text-white text-xs sm:text-sm">1</button>
                                        <button class="px-2 sm:px-3 py-1 border rounded hover:bg-gray-100 text-xs sm:text-sm">2</button>
                                        <button class="px-2 sm:px-3 py-1 border rounded hover:bg-gray-100 text-xs sm:text-sm">Sig</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ========== MODAL NUEVO ESTUDIANTE ========== -->
            <div id="modal-estudiante" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-2 sm:p-4 overflow-y-auto">
                <div id="modal-content" class="modal-content hidden-state bg-white rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto">
                    <!-- Modal Header -->
                    <div class="p-4 sm:p-6 border-b border-gray-100 bg-gradient-to-r from-green-50 to-blue-50 rounded-t-xl sm:rounded-t-2xl sticky top-0">
                        <div class="flex justify-between items-center">
                            <div>
                                <h3 class="text-lg sm:text-xl font-bold text-gray-900">Nuevo Estudiante</h3>
                                <p class="text-xs sm:text-sm text-gray-500 mt-1">Los campos con * son obligatorios</p>
                            </div>
                            <button id="btn-cerrar-modal" class="text-gray-400 hover:text-gray-600">
                                <i data-lucide="x" class="w-5 h-5 sm:w-6 sm:h-6"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Modal Body -->
                    <div class="p-4 sm:p-6">
                        <!-- Sección: Identificación -->
                        <div class="mb-4 sm:mb-6">
                            <h4 class="text-xs sm:text-sm font-semibold text-gray-700 uppercase tracking-wider mb-2 sm:mb-3 flex items-center gap-2">
                                <i data-lucide="id-card" class="w-3 h-3 sm:w-4 sm:h-4"></i> Identificación
                            </h4>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4">
                                <div>
                                    <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">DNI / Documento *</label>
                                    <input type="text" id="input-dni" class="sim-input w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg uppercase text-sm" placeholder="Ej: 25123456">
                                </div>
                                <div>
                                    <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">Estado</label>
                                    <select id="input-estado" class="sim-input w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg text-sm">
                                        <option value="Activo">Activo</option>
                                        <option value="Inactivo">Inactivo</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Sección: Datos Personales -->
                        <div class="mb-4 sm:mb-6">
                            <h4 class="text-xs sm:text-sm font-semibold text-gray-700 uppercase tracking-wider mb-2 sm:mb-3 flex items-center gap-2">
                                <i data-lucide="user" class="w-3 h-3 sm:w-4 sm:h-4"></i> Datos Personales
                            </h4>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4">
                                <div>
                                    <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">Nombre *</label>
                                    <input type="text" id="input-nombre" class="sim-input w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg uppercase text-sm" placeholder="Ej: JUAN CARLOS">
                                </div>
                                <div>
                                    <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">Apellido *</label>
                                    <input type="text" id="input-apellido" class="sim-input w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg uppercase text-sm" placeholder="Ej: PÉREZ GARCÍA">
                                </div>
                            </div>
                        </div>

                        <!-- Sección: Contacto -->
                        <div class="mb-4 sm:mb-6">
                            <h4 class="text-xs sm:text-sm font-semibold text-gray-700 uppercase tracking-wider mb-2 sm:mb-3 flex items-center gap-2">
                                <i data-lucide="mail" class="w-3 h-3 sm:w-4 sm:h-4"></i> Contacto
                            </h4>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4">
                                <div>
                                    <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">Email</label>
                                    <input type="email" id="input-email" class="sim-input w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg text-sm" placeholder="Ej: juan@email.com">
                                </div>
                                <div>
                                    <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">Teléfono</label>
                                    <input type="tel" id="input-telefono" class="sim-input w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg text-sm" placeholder="Ej: +54 11 1234-5678">
                                </div>
                            </div>
                        </div>

                        <!-- Sección: Información Adicional (colapsable) -->
                        <div class="mb-4 sm:mb-6">
                            <button type="button" id="btn-toggle-adicional" class="text-xs sm:text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2 sm:mb-3 flex items-center gap-2 hover:text-gray-700">
                                <i data-lucide="chevron-down" id="icon-adicional" class="w-3 h-3 sm:w-4 sm:h-4 transition-transform"></i>
                                Información Adicional (opcional)
                            </button>
                            <div id="info-adicional" class="hidden">
                                <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-3 sm:mb-4">
                                    <div>
                                        <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">Fecha Nacimiento</label>
                                        <input type="date" id="input-fecha-nac" class="sim-input w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg text-sm">
                                    </div>
                                    <div>
                                        <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">Género</label>
                                        <select id="input-genero" class="sim-input w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg text-sm">
                                            <option value="Prefiero no especificar">Prefiero no especificar</option>
                                            <option value="Masculino">Masculino</option>
                                            <option value="Femenino">Femenino</option>
                                            <option value="No binario">No binario</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">Ciudad</label>
                                        <input type="text" id="input-ciudad" class="sim-input w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg text-sm" placeholder="Ej: Buenos Aires">
                                    </div>
                                </div>
                                <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-3 sm:mb-4">
                                    <div>
                                        <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">Provincia / Estado</label>
                                        <input type="text" id="input-provincia" class="sim-input w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg text-sm" placeholder="Ej: Buenos Aires">
                                    </div>
                                    <div>
                                        <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">Código Postal</label>
                                        <input type="text" id="input-cp" class="sim-input w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg text-sm" placeholder="Ej: C1425">
                                    </div>
                                    <div>
                                        <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">País</label>
                                        <select id="input-pais" class="sim-input w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg text-sm">
                                            <option value="AR" selected>Argentina</option>
                                            <option value="BR">Brasil</option>
                                            <option value="CL">Chile</option>
                                            <option value="UY">Uruguay</option>
                                            <option value="PY">Paraguay</option>
                                            <option value="BO">Bolivia</option>
                                            <option value="CO">Colombia</option>
                                            <option value="PE">Perú</option>
                                            <option value="MX">México</option>
                                            <option value="ES">España</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4">
                                    <div>
                                        <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">Profesión / Oficio</label>
                                        <input type="text" id="input-profesion" class="sim-input w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg text-sm" placeholder="Ej: Abogado, Contador">
                                    </div>
                                    <div>
                                        <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">Lugar de Trabajo</label>
                                        <input type="text" id="input-trabajo" class="sim-input w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg text-sm" placeholder="Ej: Empresa, Institución">
                                    </div>
                                    <div>
                                        <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">Cargo</label>
                                        <input type="text" id="input-cargo" class="sim-input w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 rounded-lg text-sm" placeholder="Ej: Gerente, Analista">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Modal Footer -->
                    <div class="p-3 sm:p-4 border-t bg-gray-50 rounded-b-xl sm:rounded-b-2xl flex justify-end gap-2 sm:gap-3 sticky bottom-0">
                        <button id="btn-cancelar" class="px-3 sm:px-4 py-2 text-xs sm:text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg">
                            Cancelar
                        </button>
                        <button id="btn-guardar" class="sim-button px-4 sm:px-5 py-2 text-xs sm:text-sm bg-green-600 text-white rounded-lg font-medium flex items-center gap-2 hover:bg-green-700 transition">
                            <i data-lucide="save" class="w-4 h-4"></i>
                            Guardar
                        </button>
                    </div>
                </div>
            </div>

            <!-- ========== CURSOR ========== -->
            <div id="cursor" class="cursor" style="left: 50%; top: 50%; opacity: 0;">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M5.5 3.21V20.8c0 .45.54.67.85.35l4.86-4.86a.5.5 0 0 1 .35-.15h6.87c.48 0 .72-.58.38-.92L6.35 2.85a.5.5 0 0 0-.85.36Z" fill="#1e293b" stroke="#fff" stroke-width="2"/>
                </svg>
            </div>

            <!-- Click ring effect -->
            <div id="click-ring" class="click-ring"></div>

            <!-- Toast notification -->
            <div id="toast" class="toast fixed bottom-20 sm:bottom-6 left-4 right-4 sm:left-auto sm:right-6 sm:w-auto bg-green-600 text-white px-4 sm:px-5 py-3 sm:py-4 rounded-xl shadow-2xl flex items-center gap-3 z-50">
                <div class="w-7 h-7 sm:w-8 sm:h-8 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0">
                    <i data-lucide="check" class="w-4 h-4 sm:w-5 sm:h-5"></i>
                </div>
                <div>
                    <p class="font-medium text-sm sm:text-base">Estudiante agregado</p>
                    <p class="text-xs sm:text-sm text-green-100">ANA MARTÍNEZ registrada correctamente</p>
                </div>
            </div>
        </div>

        <!-- Description panel -->
        <div class="bg-white rounded-lg sm:rounded-xl shadow-sm border p-3 sm:p-5 mt-3 sm:mt-4">
            <div class="flex items-start gap-3 sm:gap-4">
                <div class="w-8 h-8 sm:w-10 sm:h-10 bg-green-100 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0">
                    <i data-lucide="info" class="w-4 h-4 sm:w-5 sm:h-5 text-green-600"></i>
                </div>
                <div>
                    <h3 id="step-title" class="font-semibold text-gray-900 mb-1 text-sm sm:text-base">Bienvenido al demo interactivo</h3>
                    <p id="step-description" class="text-xs sm:text-sm text-gray-600 leading-relaxed">
                        Esta simulación te mostrará paso a paso cómo agregar un nuevo estudiante en el módulo Certificatum.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- ========== FLOATING CONTROLS ========== -->
    <div class="floating-controls">
        <button id="btn-prev" class="p-2 sm:p-2.5 bg-gray-100 rounded-lg sm:rounded-xl text-gray-600 hover:bg-gray-200 disabled:opacity-40 transition" disabled title="Reiniciar">
            <i data-lucide="rotate-ccw" class="w-4 h-4 sm:w-5 sm:h-5"></i>
        </button>

        <div class="h-6 sm:h-8 w-px bg-gray-200 hide-on-mobile"></div>

        <button id="btn-play" class="px-4 sm:px-6 py-2 sm:py-2.5 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg sm:rounded-xl hover:from-green-600 hover:to-emerald-700 flex items-center gap-2 font-semibold shadow-lg shadow-green-500/30 transition pulse-animate text-sm sm:text-base">
            <i data-lucide="play" class="w-4 h-4 sm:w-5 sm:h-5" id="icon-play"></i>
            <span id="btn-play-text">Iniciar</span>
        </button>

        <div class="h-6 sm:h-8 w-px bg-gray-200 hide-on-mobile"></div>

        <button id="btn-next" class="p-2 sm:p-2.5 bg-gray-100 rounded-lg sm:rounded-xl text-gray-600 hover:bg-gray-200 disabled:opacity-40 transition" disabled title="Siguiente">
            <i data-lucide="chevron-right" class="w-4 h-4 sm:w-5 sm:h-5"></i>
        </button>

        <!-- Keyboard hints (desktop only) -->
        <div class="hidden md:flex items-center gap-2 ml-2 text-gray-400">
            <span class="kbd text-[10px] px-1.5 h-6"><i data-lucide="arrow-left" class="w-3 h-3"></i></span>
            <span class="kbd text-[10px] px-1.5 h-6"><i data-lucide="arrow-right" class="w-3 h-3"></i></span>
            <span class="kbd text-[10px] px-1.5 h-6">Espacio</span>
        </div>
    </div>

    <!-- Swipe indicator for mobile -->
    <div id="swipe-indicator" class="swipe-indicator">
        <i data-lucide="move-horizontal" class="w-4 h-4"></i>
        <span>Deslizá para navegar</span>
    </div>

    <script>
        lucide.createIcons();

        // State
        let currentStep = 0;
        let isPlaying = false;
        let animationTimeout = null;
        let introShown = true;
        let currentTooltip = null;

        // Elements
        const cursor = document.getElementById('cursor');
        const clickRing = document.getElementById('click-ring');
        const progressBar = document.getElementById('progress-bar');
        const toast = document.getElementById('toast');
        const introOverlay = document.getElementById('intro-overlay');
        const demoContainer = document.getElementById('demo-container');
        const tooltipContainer = document.getElementById('tooltip-container');

        // Tooltip types: info (yellow), tip (green), suggestion (blue), action (purple)
        function showTooltip(elementId, text, type = 'info', position = 'bottom', label = null) {
            hideTooltip();

            const el = document.getElementById(elementId);
            if (!el) return;

            const rect = el.getBoundingClientRect();
            const containerRect = demoContainer.getBoundingClientRect();

            // Create tooltip element
            const tooltip = document.createElement('div');
            tooltip.className = `demo-tooltip tooltip-${type} arrow-top`;
            tooltip.id = 'active-tooltip';

            // Determine icon based on type
            const icons = {
                info: 'info',
                tip: 'lightbulb',
                suggestion: 'sparkles',
                action: 'mouse-pointer-click'
            };

            const labels = {
                info: 'Explicación',
                tip: 'Tip',
                suggestion: 'Sugerencia',
                action: 'Acción'
            };

            tooltip.innerHTML = `
                <div class="tooltip-content">
                    <span class="tooltip-icon"><i data-lucide="${icons[type]}" class="w-3 h-3"></i></span>
                    <div class="tooltip-text">
                        <div class="tooltip-label">${label || labels[type]}</div>
                        ${text}
                    </div>
                </div>
            `;

            tooltipContainer.appendChild(tooltip);
            lucide.createIcons();

            // Position tooltip - más cerca del elemento
            const tooltipRect = tooltip.getBoundingClientRect();
            let left = rect.left - containerRect.left + rect.width / 2 - 60;
            let top = rect.bottom - containerRect.top + 6;

            // Adjust for screen edges
            if (left + tooltipRect.width > containerRect.width - 20) {
                left = containerRect.width - tooltipRect.width - 20;
            }
            if (left < 10) left = 10;

            // If bottom position would go off screen, show above
            if (position === 'top' || top + tooltipRect.height > containerRect.height - 20) {
                top = rect.top - containerRect.top - tooltipRect.height - 6;
                tooltip.classList.remove('arrow-top');
                tooltip.classList.add('arrow-bottom');
            }

            tooltip.style.left = left + 'px';
            tooltip.style.top = top + 'px';

            // Show with animation
            requestAnimationFrame(() => {
                tooltip.classList.add('show');
            });

            currentTooltip = tooltip;
        }

        function hideTooltip() {
            const existing = document.getElementById('active-tooltip');
            if (existing) {
                existing.classList.remove('show');
                setTimeout(() => existing.remove(), 300);
            }
            currentTooltip = null;
        }

        // Steps definition with tooltips
        const steps = [
            {
                title: 'Ir a la pestaña "Personas"',
                description: 'En el módulo Certificatum, hacé clic en la pestaña "Personas" para acceder a la gestión de estudiantes y docentes.',
                action: async () => {
                    await sleep(300);
                    cursor.style.opacity = '1';

                    // Show tooltip before action
                    showTooltip('tab-personas', 'Acá se gestionan <strong>estudiantes</strong> y <strong>docentes</strong> de tu institución', 'info');
                    await sleep(1500);

                    await moveCursorTo('tab-personas');
                    await sleep(400);

                    hideTooltip();
                    showTooltip('tab-personas', 'Clic para abrir la sección de Personas', 'action');
                    await sleep(800);

                    await click();
                    hideTooltip();

                    // Activate tab
                    document.getElementById('tab-personas').classList.add('active', 'text-blue-600', 'border-blue-600');
                    document.getElementById('tab-personas').classList.remove('text-gray-500', 'border-transparent');

                    // Show content
                    document.getElementById('tab-content-personas').classList.remove('hidden');
                    document.getElementById('view-stats').classList.add('hidden');
                }
            },
            {
                title: 'Seleccionar sub-pestaña "Estudiantes"',
                description: 'Dentro de Personas hay dos sub-pestañas: Estudiantes y Docentes. Seleccioná "Estudiantes" para ver la lista.',
                action: async () => {
                    showTooltip('subtab-estudiantes', 'Los estudiantes son quienes <strong>reciben certificados</strong> al aprobar cursos', 'tip');
                    await sleep(1500);

                    await moveCursorTo('subtab-estudiantes');
                    await sleep(400);

                    hideTooltip();
                    await click();

                    // Activate subtab
                    document.getElementById('subtab-estudiantes').classList.add('active', 'text-blue-600', 'border-blue-600');
                    document.getElementById('subtab-estudiantes').classList.remove('text-gray-500', 'border-transparent');

                    // Show students content
                    document.getElementById('sub-content-estudiantes').classList.remove('hidden');
                    await sleep(300);
                    lucide.createIcons();

                    showTooltip('tbody-estudiantes', 'Acá ves todos los estudiantes registrados con sus cursos y estados', 'info', 'top');
                    await sleep(2000);
                    hideTooltip();
                }
            },
            {
                title: 'Clic en "Nuevo Estudiante"',
                description: 'Hacé clic en el botón verde "Nuevo Estudiante" para abrir el formulario de registro.',
                action: async () => {
                    showTooltip('btn-nuevo-estudiante', 'Este botón abre el formulario para registrar una nueva persona', 'info');
                    await sleep(1500);

                    await moveCursorTo('btn-nuevo-estudiante');
                    await sleep(400);

                    hideTooltip();

                    // Hover effect
                    document.getElementById('btn-nuevo-estudiante').classList.add('hovered');
                    await sleep(300);

                    await click();
                    document.getElementById('btn-nuevo-estudiante').classList.remove('hovered');
                    document.getElementById('btn-nuevo-estudiante').classList.add('clicked');
                    await sleep(150);
                    document.getElementById('btn-nuevo-estudiante').classList.remove('clicked');

                    // Show modal
                    const modal = document.getElementById('modal-estudiante');
                    const modalContent = document.getElementById('modal-content');
                    modal.classList.remove('hidden');
                    await sleep(50);
                    modalContent.classList.remove('hidden-state');
                    modalContent.classList.add('visible-state');
                    await sleep(500);
                    lucide.createIcons();

                    showTooltip('input-dni', 'El <strong>DNI es obligatorio</strong> y debe ser único para cada estudiante', 'info');
                    await sleep(2000);
                    hideTooltip();
                }
            },
            {
                title: 'Completar el formulario',
                description: 'Completá los datos del estudiante: DNI, nombre, apellido, email. Opcionalmente podés agregar datos adicionales como género, ciudad, etc.',
                action: async () => {
                    // DNI
                    showTooltip('input-dni', 'Ingresá el número de documento sin puntos ni guiones', 'tip');
                    await sleep(1200);

                    await moveCursorTo('input-dni');
                    await sleep(300);
                    await click();
                    hideTooltip();
                    document.getElementById('input-dni').classList.add('focused');
                    await typeText('input-dni', '40123456');
                    document.getElementById('input-dni').classList.remove('focused');

                    // Nombre
                    showTooltip('input-nombre', 'El sistema convierte automáticamente a <strong>MAYÚSCULAS</strong>', 'tip');
                    await moveCursorTo('input-nombre');
                    await sleep(200);
                    await click();
                    hideTooltip();
                    document.getElementById('input-nombre').classList.add('focused');
                    await typeText('input-nombre', 'ANA');
                    document.getElementById('input-nombre').classList.remove('focused');

                    // Apellido
                    await moveCursorTo('input-apellido');
                    await sleep(200);
                    await click();
                    document.getElementById('input-apellido').classList.add('focused');
                    await typeText('input-apellido', 'MARTÍNEZ');
                    document.getElementById('input-apellido').classList.remove('focused');

                    // Email
                    showTooltip('input-email', 'El email permite <strong>enviar certificados</strong> directamente al estudiante', 'suggestion');
                    await sleep(1200);
                    await moveCursorTo('input-email');
                    await sleep(200);
                    await click();
                    hideTooltip();
                    document.getElementById('input-email').classList.add('focused');
                    await typeText('input-email', 'ana.martinez@email.com');
                    document.getElementById('input-email').classList.remove('focused');
                    await sleep(400);

                    // Abrir información adicional
                    showTooltip('btn-toggle-adicional', 'Acá podés agregar <strong>datos opcionales</strong> como género, ciudad, profesión...', 'info');
                    await sleep(1500);
                    await moveCursorTo('btn-toggle-adicional');
                    await sleep(300);
                    await click();
                    hideTooltip();

                    // Expandir sección
                    document.getElementById('info-adicional').classList.remove('hidden');
                    document.getElementById('icon-adicional').style.transform = 'rotate(180deg)';
                    await sleep(500);

                    // Seleccionar género
                    showTooltip('input-genero', 'El género es <strong>opcional</strong> y se usa para personalizar textos en certificados', 'tip');
                    await sleep(1200);
                    await moveCursorTo('input-genero');
                    await sleep(200);
                    await click();
                    hideTooltip();
                    document.getElementById('input-genero').classList.add('focused');
                    document.getElementById('input-genero').value = 'Femenino';
                    await sleep(400);
                    document.getElementById('input-genero').classList.remove('focused');
                    await sleep(300);
                }
            },
            {
                title: 'Guardar el estudiante',
                description: 'Hacé clic en "Guardar" para registrar al estudiante. Aparecerá inmediatamente en la lista.',
                action: async () => {
                    showTooltip('btn-guardar', 'Al guardar, el estudiante quedará listo para <strong>inscribirse en cursos</strong>', 'tip');
                    await sleep(1500);

                    await moveCursorTo('btn-guardar');
                    await sleep(400);

                    hideTooltip();
                    showTooltip('btn-guardar', 'Clic para confirmar y guardar', 'action');
                    await sleep(800);

                    document.getElementById('btn-guardar').classList.add('hovered');
                    await sleep(300);

                    await click();
                    hideTooltip();
                    document.getElementById('btn-guardar').classList.remove('hovered');
                    document.getElementById('btn-guardar').classList.add('clicked');
                    await sleep(200);
                    document.getElementById('btn-guardar').classList.remove('clicked');

                    // Close modal
                    const modalContent = document.getElementById('modal-content');
                    modalContent.classList.remove('visible-state');
                    modalContent.classList.add('hidden-state');
                    await sleep(300);
                    document.getElementById('modal-estudiante').classList.add('hidden');

                    // Add new student to table
                    const tbody = document.getElementById('tbody-estudiantes');
                    const newRow = document.createElement('tr');
                    newRow.className = 'new-row-enter';
                    newRow.innerHTML = `
                        <td class="px-2 sm:px-3 py-3 sm:py-4 text-center hide-on-mobile-table">
                            <input type="checkbox" class="w-4 h-4 text-blue-600 border-gray-300 rounded" checked>
                        </td>
                        <td class="px-2 sm:px-4 py-3 sm:py-4">
                            <div class="flex items-center gap-2 sm:gap-3">
                                <div class="w-8 h-8 sm:w-10 sm:h-10 bg-green-500 rounded-full flex items-center justify-center">
                                    <span class="text-white font-semibold text-xs sm:text-sm">AM</span>
                                </div>
                                <div>
                                    <div class="font-medium text-gray-900 text-xs sm:text-sm">ANA MARTÍNEZ <span class="ml-1 text-[10px] sm:text-xs bg-green-100 text-green-700 px-1.5 sm:px-2 py-0.5 rounded">Nuevo</span></div>
                                    <div class="text-[10px] sm:text-sm text-gray-500 font-mono">40123456</div>
                                </div>
                            </div>
                        </td>
                        <td class="px-2 sm:px-4 py-3 sm:py-4 text-center hide-on-mobile-table">
                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs sm:text-sm font-medium bg-gray-100 text-gray-800">0</span>
                        </td>
                        <td class="px-2 sm:px-4 py-3 sm:py-4 text-center">
                            <span class="text-[10px] sm:text-xs text-gray-400">Sin cursos</span>
                        </td>
                        <td class="px-2 sm:px-4 py-3 sm:py-4">
                            <div class="flex justify-center gap-0.5 sm:gap-1">
                                <button class="p-1.5 sm:p-2 text-blue-600 hover:bg-blue-50 rounded-lg"><i data-lucide="pencil" class="w-3 h-3 sm:w-4 sm:h-4"></i></button>
                                <button class="p-1.5 sm:p-2 text-red-600 hover:bg-red-50 rounded-lg"><i data-lucide="trash-2" class="w-3 h-3 sm:w-4 sm:h-4"></i></button>
                            </div>
                        </td>
                    `;
                    tbody.insertBefore(newRow, tbody.firstChild);
                    lucide.createIcons();

                    // Update counter
                    document.getElementById('stat-estudiantes').textContent = '157';
                    document.getElementById('total-estudiantes').textContent = '157';

                    // Show success tooltip
                    await sleep(500);
                    showTooltip('tbody-estudiantes', '<strong>El nuevo estudiante ya está en la lista.</strong> Ahora podés inscribirlo en cursos.', 'tip', 'top', 'Completado');

                    // Show toast
                    await sleep(300);
                    toast.classList.add('show');
                    await sleep(3000);
                    toast.classList.remove('show');
                    hideTooltip();
                }
            }
        ];

        // Helper functions
        function sleep(ms) {
            return new Promise(resolve => {
                animationTimeout = setTimeout(resolve, ms);
            });
        }

        function getElementCenter(elementId) {
            const el = document.getElementById(elementId);
            if (!el) return { x: 0, y: 0 };
            const rect = el.getBoundingClientRect();
            const container = demoContainer.getBoundingClientRect();
            // Offset para que la punta del cursor (no el centro del SVG) quede en el centro del elemento
            // La punta está aproximadamente en (5, 3) dentro del SVG de 24x24
            return {
                x: rect.left + rect.width / 2 - container.left - 5,
                y: rect.top + rect.height / 2 - container.top - 3
            };
        }

        async function moveCursorTo(elementId) {
            const pos = getElementCenter(elementId);
            cursor.style.left = pos.x + 'px';
            cursor.style.top = pos.y + 'px';
            await sleep(600);
        }

        async function click() {
            const cursorRect = cursor.getBoundingClientRect();
            const container = demoContainer.getBoundingClientRect();

            clickRing.style.left = (cursorRect.left - container.left - 3) + 'px';
            clickRing.style.top = (cursorRect.top - container.top - 3) + 'px';
            clickRing.classList.add('active');

            await sleep(500);
            clickRing.classList.remove('active');
        }

        async function typeText(inputId, text) {
            const input = document.getElementById(inputId);
            input.value = '';

            for (let i = 0; i < text.length; i++) {
                input.value += text[i];
                await sleep(40 + Math.random() * 40);
            }
            await sleep(150);
        }

        function updateUI() {
            document.getElementById('step-label').textContent = `Paso ${currentStep + 1} de ${steps.length}`;
            progressBar.style.width = ((currentStep + 1) / steps.length * 100) + '%';

            document.querySelectorAll('.step-dot').forEach((dot, index) => {
                dot.classList.remove('active', 'completed');
                if (index < currentStep) dot.classList.add('completed');
                else if (index === currentStep) dot.classList.add('active');
            });

            if (steps[currentStep]) {
                document.getElementById('step-title').textContent = steps[currentStep].title;
                document.getElementById('step-description').textContent = steps[currentStep].description;
            }

            document.getElementById('btn-prev').disabled = currentStep === 0 && !isPlaying;
            document.getElementById('btn-next').disabled = currentStep >= steps.length - 1;
        }

        async function playStep() {
            if (currentStep < steps.length && isPlaying) {
                updateUI();
                await steps[currentStep].action();

                if (isPlaying && currentStep < steps.length - 1) {
                    currentStep++;
                    await sleep(800);
                    await playStep();
                } else {
                    stopDemo();
                }
            }
        }

        function startDemo() {
            isPlaying = true;
            document.getElementById('btn-play').classList.remove('pulse-animate');
            document.getElementById('btn-play-text').textContent = 'Pausar';
            document.getElementById('icon-play').setAttribute('data-lucide', 'pause');
            lucide.createIcons();
            playStep();
        }

        function pauseDemo() {
            isPlaying = false;
            clearTimeout(animationTimeout);
            hideTooltip();
            document.getElementById('btn-play-text').textContent = 'Continuar';
            document.getElementById('icon-play').setAttribute('data-lucide', 'play');
            lucide.createIcons();
        }

        function stopDemo() {
            isPlaying = false;
            document.getElementById('btn-play-text').textContent = 'Repetir';
            document.getElementById('icon-play').setAttribute('data-lucide', 'rotate-ccw');
            lucide.createIcons();
            document.querySelectorAll('.step-dot').forEach(dot => {
                dot.classList.add('completed');
                dot.classList.remove('active');
            });
        }

        function resetDemo() {
            currentStep = 0;
            isPlaying = false;
            clearTimeout(animationTimeout);
            hideTooltip();

            document.getElementById('btn-play-text').textContent = 'Iniciar';
            document.getElementById('icon-play').setAttribute('data-lucide', 'play');
            document.getElementById('btn-play').classList.add('pulse-animate');
            lucide.createIcons();

            // Reset tabs
            document.getElementById('tab-personas').classList.remove('active', 'text-blue-600', 'border-blue-600');
            document.getElementById('tab-personas').classList.add('text-gray-500', 'border-transparent');
            document.getElementById('subtab-estudiantes').classList.remove('active', 'text-blue-600', 'border-blue-600');
            document.getElementById('subtab-estudiantes').classList.add('text-gray-500', 'border-transparent');

            // Reset views
            document.getElementById('view-stats').classList.remove('hidden');
            document.getElementById('tab-content-personas').classList.add('hidden');
            document.getElementById('sub-content-estudiantes').classList.add('hidden');
            document.getElementById('modal-estudiante').classList.add('hidden');
            document.getElementById('modal-content').classList.remove('visible-state');
            document.getElementById('modal-content').classList.add('hidden-state');

            // Reset inputs
            ['input-dni', 'input-nombre', 'input-apellido', 'input-email', 'input-telefono', 'input-fecha-nac', 'input-ciudad', 'input-provincia', 'input-cp', 'input-profesion', 'input-trabajo', 'input-cargo'].forEach(id => {
                const el = document.getElementById(id);
                if (el) el.value = '';
            });
            // Reset selects
            const generoSelect = document.getElementById('input-genero');
            if (generoSelect) generoSelect.selectedIndex = 0;
            const paisSelect = document.getElementById('input-pais');
            if (paisSelect) paisSelect.selectedIndex = 0;
            // Collapse info adicional
            document.getElementById('info-adicional').classList.add('hidden');
            document.getElementById('icon-adicional').style.transform = '';

            // Remove new student row
            const newRow = document.querySelector('.new-row-enter');
            if (newRow) newRow.remove();

            // Reset counters
            document.getElementById('stat-estudiantes').textContent = '156';
            document.getElementById('total-estudiantes').textContent = '156';

            // Reset cursor
            cursor.style.left = '50%';
            cursor.style.top = '50%';
            cursor.style.opacity = '0';

            toast.classList.remove('show');
            updateUI();
        }

        function hideIntro() {
            introOverlay.classList.add('hidden-state');
            introShown = false;
            setTimeout(() => {
                introOverlay.style.display = 'none';
            }, 400);
        }

        // Event listeners
        document.getElementById('btn-start-demo').addEventListener('click', () => {
            hideIntro();
            setTimeout(startDemo, 300);
        });

        document.getElementById('btn-play').addEventListener('click', () => {
            const btnText = document.getElementById('btn-play-text').textContent;
            if (btnText === 'Repetir') {
                resetDemo();
                setTimeout(startDemo, 100);
            } else if (isPlaying) {
                pauseDemo();
            } else {
                startDemo();
            }
        });

        document.getElementById('btn-prev').addEventListener('click', () => {
            resetDemo();
        });

        document.getElementById('btn-next').addEventListener('click', async () => {
            if (currentStep < steps.length - 1) {
                pauseDemo();
                currentStep++;
                updateUI();
                isPlaying = true;
                await steps[currentStep].action();
                isPlaying = false;
                if (currentStep >= steps.length - 1) stopDemo();
            }
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            // Skip if intro is shown
            if (introShown) {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    hideIntro();
                    setTimeout(startDemo, 300);
                }
                return;
            }

            switch(e.key) {
                case 'ArrowLeft':
                    e.preventDefault();
                    resetDemo();
                    break;
                case 'ArrowRight':
                    e.preventDefault();
                    if (currentStep < steps.length - 1) {
                        document.getElementById('btn-next').click();
                    }
                    break;
                case ' ':
                    e.preventDefault();
                    document.getElementById('btn-play').click();
                    break;
            }
        });

        // Touch/Swipe support for mobile
        let touchStartX = 0;
        let touchEndX = 0;
        let showSwipeHint = true;

        demoContainer.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        }, { passive: true });

        demoContainer.addEventListener('touchend', (e) => {
            if (introShown) return;

            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        }, { passive: true });

        function handleSwipe() {
            const diff = touchEndX - touchStartX;
            const threshold = 80;

            if (Math.abs(diff) > threshold) {
                if (diff > 0) {
                    // Swipe right - next step
                    if (currentStep < steps.length - 1) {
                        document.getElementById('btn-next').click();
                    }
                } else {
                    // Swipe left - reset
                    resetDemo();
                }

                if (showSwipeHint) {
                    showSwipeHint = false;
                    document.getElementById('swipe-indicator').classList.remove('show');
                }
            }
        }

        // Show swipe hint on mobile after intro
        function checkMobile() {
            if (window.innerWidth <= 768 && !introShown && showSwipeHint) {
                const swipeIndicator = document.getElementById('swipe-indicator');
                swipeIndicator.classList.add('show');
                setTimeout(() => {
                    swipeIndicator.classList.remove('show');
                    showSwipeHint = false;
                }, 4000);
            }
        }

        // Initialize
        updateUI();

        // Check if should show swipe hint when intro is dismissed
        const originalHideIntro = hideIntro;
        hideIntro = function() {
            originalHideIntro();
            setTimeout(checkMobile, 1000);
        };
    </script>
</body>
</html>
